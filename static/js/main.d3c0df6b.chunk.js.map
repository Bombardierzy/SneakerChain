{"version":3,"sources":["components/Admin/GasReminderDialog.tsx","abis/abis.ts","Contract.ts","components/Admin/PendingManufacturers.tsx","components/Admin/VerifiedManufacturers.tsx","contexts/appReducer.ts","contexts/appContext.tsx","components/Admin/Admin.tsx","components/ContractInitialization/ContractInitialization.tsx","components/Home/FakeSneaker.tsx","components/Home/OriginalSneaker.tsx","components/Home/WalletBalancePig.tsx","components/Home/Home.tsx","hooks/useAccount.ts","components/Inventory/Inventory.tsx","components/Manufacturer/MintToken.tsx","components/Manufacturer/PendingRequest.tsx","components/Manufacturer/RequestManufacturerRole.tsx","components/Manufacturer/Manufacturer.tsx","components/Navigation/SideDrawer.tsx","components/AppBar/SneakerAppBar.tsx","App.tsx","AppWrapper.tsx","reportWebVitals.ts","index.tsx"],"names":["GasReminderDialog","onAccept","onCancel","open","Dialog","onClose","aria-labelledby","DialogTitle","id","DialogContent","DialogContentText","DialogActions","Button","onClick","color","cryptoSneakerAbi","contract","web3","Web3","window","ethereum","loadCryptoSneakerContract","address","eth","Contract","useStyles","makeStyles","table","width","header","display","justifyContent","marginTop","marginBottom","fontSize","PendingManufacturers","manufacturers","onDeny","useState","actionDialog","setActionDialog","classes","Typography","variant","className","TableContainer","Table","aria-label","TableHead","TableRow","TableCell","align","TableBody","map","amount","utils","fromWei","accept","manufacturer","VerifiedManufacturers","appInitialState","contractAddress","from","account","pendingManufacturers","verifiedManufacturers","appReducer","state","action","type","sneakers","push","sneaker","filter","s","token","verified","pending","el","Context","React","createContext","AppContextProvider","children","useReducer","store","dispatch","Provider","value","useAppContext","useContext","loading","flexDirection","alignItems","Admin","setLoading","setError","useEffect","a","pendingRole","keccak256","verifiedRole","methods","getRoleMemberCount","call","console","log","pendingCount","parseInt","verifiedCount","i","getRoleMember","requestedManufacturers","loadManufacturers","acceptManufacturer","approveManufacturer","send","gas","denyManufacturer","disapproveManufacturer","CircularProgress","size","center","position","left","top","transform","fadeIn","CONTRACT_ADDRESS","ContractInitialization","showTextField","setShowTextField","useForm","register","errors","handleSubmit","history","useHistory","onSubmit","getCode","message","localStorage","setItem","getItem","removeItem","fetchContract","Container","onFinishedTyping","Speed","ms","Delay","Backspace","count","delay","TextField","label","error","helperText","errorMessage","name","inputRef","required","pattern","root","minWidth","bullet","margin","title","pos","actions","FakeSneaker","onNext","Card","CardContent","component","CardActions","OriginalSneaker","gutterBottom","owner","modelId","content","textAlign","piggy","height","WalletBalancePig","props","alt","src","start","decimals","end","decimal","duration","prefix","button","textField","Home","balance","setBalance","sneakerCheck","setSneakerCheck","setToken","selectedAddress","fetchWallet","parseFloat","getBalance","fetchBalance","checkToken","valid","ownerOf","Grid","container","spacing","item","md","onChange","e","target","Snackbar","autoHideDuration","Alert","severity","useAccount","enable","hasRole","isAdmin","isManufacturer","getSneakersByOwner","sneakerTokens","fetchAccountInfo","Inventory","activeSneaker","setActiveSneaker","success","setSuccess","transferToken","to","transferFrom","Paper","row","scope","autoFocus","fullWidth","formControl","field","MuiInput","MintToken","reset","mintToken","mint","toString","result","events","Transfer","returnValues","tokenId","data","maxLength","minLength","min","max","PendingRequest","RequestManufacturerRole","onSuccess","requestManufacturerRole","Manufacturer","isPending","setIsPending","isLoading","setIsLoading","checkIfPending","list","SideDrawer","toggleOpen","toggleDrawer","event","key","text","iconName","HomeIcon","WidgetsIcon","CreateIcon","PersonIcon","Drawer","anchor","role","onKeyDown","List","index","ListItem","Link","toLowerCase","ListItemIcon","ListItemText","primary","style","textDecoration","theme","createStyles","appBar","transition","transitions","create","easing","sharp","leavingScreen","appBarShift","marginLeft","easeOut","enteringScreen","menuButton","marginRight","hide","SneakerAppBar","location","useLocation","AppBar","clsx","Toolbar","IconButton","edge","noWrap","pathname","substr","charAt","toUpperCase","slice","flexGrow","padding","App","openDrawer","setOpenDrawer","useTheme","path","exact","AppWrapper","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d3c0df6b.chunk.js","sourcesContent":["import {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n} from \"@material-ui/core\";\n\nimport { ReactElement } from \"react\";\n\ninterface GasReminderDialogProps {\n  onAccept: () => void;\n  onCancel: () => void;\n  open: boolean;\n}\n\nexport function GasReminderDialog({\n  onAccept,\n  onCancel,\n  open,\n}: GasReminderDialogProps): ReactElement {\n  return (\n    <Dialog open={open} onClose={onCancel} aria-labelledby=\"form-dialog-title\">\n      <DialogTitle id=\"alert-dialog-title\">\n        {\"Are you sure to continue this operation?\"}\n      </DialogTitle>\n      <DialogContent>\n        <DialogContentText id=\"alert-dialog-description\">\n          Remember! Every single operation that takes part in Ethereum, be it a\n          transaction or smart contract execution requires some amount of gas.\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={onCancel} color=\"default\">\n          Cancel\n        </Button>\n        <Button onClick={onAccept} color=\"primary\">\n          Continue\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import * as contract from \"./CryptoSneaker.json\";\nexport const cryptoSneakerAbi: any[] = contract[\"abi\"];\n","import { CryptoSneaker } from \"./contracts/CryptoSneaker\";\nimport Web3 from \"web3\";\nimport { cryptoSneakerAbi } from \"./abis/abis\";\n\nexport const web3 = new Web3(\n  window.ethereum\n);\n\nexport function loadCryptoSneakerContract(address: string): CryptoSneaker {\n  return (new web3.eth.Contract(\n    cryptoSneakerAbi,\n    address\n  ) as any) as CryptoSneaker;\n}\n","import {\n  Button,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Typography,\n  makeStyles,\n} from \"@material-ui/core\";\nimport { ReactElement, useState } from \"react\";\n\nimport { GasReminderDialog } from \"./GasReminderDialog\";\nimport { PendingManufacturer } from \"../../models/models\";\nimport { web3 } from \"../../Contract\";\n\nconst useStyles = makeStyles({\n  table: {\n    width: \"100%\",\n  },\n  header: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    marginTop: 60,\n    marginBottom: 20,\n    fontSize: 25,\n  },\n});\n\ninterface PendingManufacturersProps {\n  manufacturers: PendingManufacturer[];\n  onDeny: (manufacturer: PendingManufacturer) => void;\n  onAccept: (manufacturer: PendingManufacturer) => void;\n}\n\ninterface ActionDialog {\n  accept: boolean;\n  manufacturer: PendingManufacturer;\n}\n\nexport function PendingManufacturers({\n  manufacturers,\n  onDeny,\n  onAccept,\n}: PendingManufacturersProps): ReactElement {\n  const [actionDialog, setActionDialog] = useState<ActionDialog | null>(null);\n  const classes = useStyles();\n\n  return (\n    <>\n      <Typography variant=\"h1\" className={classes.header}>\n        Pending Manufacturers\n      </Typography>\n      <TableContainer className={classes.table}>\n        <Table className={classes.table} aria-label=\"simple table\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">Address</TableCell>\n              <TableCell align=\"center\">Fee</TableCell>\n              <TableCell align=\"center\" />\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {manufacturers.map(({ address, amount }) => (\n              <TableRow key={address}>\n                <TableCell align=\"center\">{address}</TableCell>\n                <TableCell align=\"center\">\n                  {web3.utils.fromWei(amount, \"ether\")}\n                </TableCell>\n                <TableCell align=\"center\">\n                  <Button\n                    className=\"mr-2\"\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={() =>\n                      setActionDialog({\n                        accept: true,\n                        manufacturer: { address, amount },\n                      })\n                    }\n                  >\n                    Accept\n                  </Button>\n                  <Button\n                    className=\"ml-2\"\n                    variant=\"contained\"\n                    color=\"secondary\"\n                    onClick={() =>\n                      setActionDialog({\n                        accept: false,\n                        manufacturer: { address, amount },\n                      })\n                    }\n                  >\n                    Deny\n                  </Button>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n      <GasReminderDialog\n        open={!!actionDialog}\n        onAccept={() => {\n          if (actionDialog) {\n            const { manufacturer, accept } = actionDialog;\n            if (accept) {\n              onAccept(manufacturer);\n            } else {\n              onDeny(manufacturer);\n            }\n          }\n          setActionDialog(null);\n        }}\n        onCancel={() => {\n          setActionDialog(null);\n        }}\n      />\n    </>\n  );\n}\n","import {\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Typography,\n  makeStyles,\n} from \"@material-ui/core\";\n\nimport { ReactElement } from \"react\";\n\nconst useStyles = makeStyles({\n  table: {\n    width: \"100%\",\n  },\n  header: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    marginTop: 60,\n    marginBottom: 20,\n    fontSize: 25,\n  },\n});\n\ninterface VerifiedManufacturersProps {\n  manufacturers: string[];\n}\n\nexport function VerifiedManufacturers({\n  manufacturers,\n}: VerifiedManufacturersProps): ReactElement {\n  const classes = useStyles();\n\n  return (\n    <div>\n      <Typography variant=\"h1\" className={classes.header}>\n        Verified manufacturers\n      </Typography>\n      <TableContainer className={classes.table}>\n        <Table className={classes.table} aria-label=\"simple table\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">Address</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {manufacturers.map((address) => (\n              <TableRow key={address}>\n                <TableCell align=\"center\">{address}</TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </div>\n  );\n}\n","import { Account, PendingManufacturer, Sneaker } from \"../models/models\";\n\nimport { CryptoSneaker } from \"../contracts/CryptoSneaker\";\n\nexport type AppActions =\n  | { type: \"SET_CONTRACT_ADDRESS\"; contractAddress: string }\n  | { type: \"SET_CONTRACT\"; contract: CryptoSneaker }\n  | { type: \"SET_FROM\"; from: string }\n  | { type: \"SET_ACCOUNT\"; account: Account }\n  | { type: \"ADD_SNEAKER\"; sneaker: Sneaker }\n  | { type: \"REMOVE_SNEAKER\"; sneaker: Sneaker }\n  | {\n      type: \"SET_MANUFACTURERS\";\n      verified: string[];\n      pending: PendingManufacturer[];\n    }\n  | { type: \"ACCEPT_MANUFACTURER\"; manufacturer: { address: string } }\n  | { type: \"DENY_MANUFACTURER\"; manufacturer: { address: string } };\n\nexport interface AppStoreInterface {\n  contractAddress: string;\n  contract: CryptoSneaker | null;\n  from: string | null;\n  account: Account | null;\n  pendingManufacturers: PendingManufacturer[] | null;\n  verifiedManufacturers: string[] | null;\n}\n\nexport const appInitialState: AppStoreInterface = {\n  contractAddress: \"\",\n  contract: null,\n  from: null,\n  account: null,\n  pendingManufacturers: null,\n  verifiedManufacturers: null,\n};\n\nexport default function appReducer(\n  state: AppStoreInterface = appInitialState,\n  action: AppActions\n): AppStoreInterface {\n  switch (action.type) {\n    case \"SET_CONTRACT_ADDRESS\":\n      return { ...state, contractAddress: action.contractAddress };\n    case \"SET_CONTRACT\":\n      return { ...state, contract: action.contract };\n    case \"SET_FROM\":\n      return { ...state, from: action.from };\n    case \"SET_ACCOUNT\":\n      return { ...state, account: action.account };\n    case \"ADD_SNEAKER\":\n      if (state.account) {\n        const { sneakers } = state.account;\n        sneakers.push(action.sneaker);\n        return { ...state, account: { ...state.account, sneakers } };\n      }\n      return state;\n    case \"REMOVE_SNEAKER\":\n      if (state.account) {\n        const { sneakers } = state.account;\n        return {\n          ...state,\n          account: {\n            ...state.account,\n            sneakers: sneakers.filter((s) => s.token !== action.sneaker.token),\n          },\n        };\n      }\n      return state;\n    case \"SET_MANUFACTURERS\": {\n      return {\n        ...state,\n        verifiedManufacturers: action.verified,\n        pendingManufacturers: action.pending,\n      };\n    }\n    case \"ACCEPT_MANUFACTURER\": {\n      const { verifiedManufacturers, pendingManufacturers } = state;\n      const { address } = action.manufacturer;\n      verifiedManufacturers?.push(address);\n      const pending =\n        pendingManufacturers?.filter((el) => el.address !== address) || [];\n      return { ...state, verifiedManufacturers, pendingManufacturers: pending };\n    }\n    case \"DENY_MANUFACTURER\": {\n      const { pendingManufacturers } = state;\n      const { address } = action.manufacturer;\n      const pending =\n        pendingManufacturers?.filter((el) => el.address !== address) || [];\n      return { ...state, pendingManufacturers: pending };\n    }\n    default:\n      return state;\n  }\n}\n","import React, { ReactNode, useReducer } from \"react\";\nimport appReducer, {\n  AppActions,\n  AppStoreInterface,\n  appInitialState,\n} from \"./appReducer\";\n\ninterface Props {\n  children: ReactNode;\n}\n\nexport type AppContextType = [AppStoreInterface, React.Dispatch<AppActions>];\n\nexport const Context = React.createContext<AppContextType>([\n  appInitialState,\n  () => null,\n]);\n\nexport let dispatchToApp: React.Dispatch<AppActions> = () => null;\n\nexport function AppContextProvider({ children }: Props): JSX.Element {\n  const [store, dispatch] = useReducer(appReducer, appInitialState);\n  dispatchToApp = dispatch;\n\n  return (\n    <Context.Provider value={[store, dispatch]}>{children}</Context.Provider>\n  );\n}\n\nexport function useAppContext(): AppContextType {\n  return React.useContext(Context);\n}\n","import { CircularProgress, makeStyles } from \"@material-ui/core\";\nimport { Manufacturer, PendingManufacturer } from \"../../models/models\";\nimport { ReactElement, useEffect, useState } from \"react\";\n\nimport { PendingManufacturers } from \"./PendingManufacturers\";\nimport React from \"react\";\nimport { VerifiedManufacturers } from \"./VerifiedManufacturers\";\nimport { useAppContext } from \"../../contexts/appContext\";\nimport { web3 } from \"../../Contract\";\n\nconst useStyles = makeStyles({\n  loading: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginTop: 200,\n  },\n});\n\nexport function Admin(): ReactElement {\n  const [\n    { contract, from, verifiedManufacturers, pendingManufacturers },\n    dispatch,\n  ] = useAppContext();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const classes = useStyles();\n\n  useEffect(() => {\n    const loadManufacturers = async () => {\n      if (contract && (!verifiedManufacturers || !pendingManufacturers)) {\n        try {\n          const pendingRole = web3.utils.keccak256(\"PENDING_MANUFACTURER\");\n          const verifiedRole = web3.utils.keccak256(\"MANUFACTURER_ROLE\");\n\n          let a = await contract.methods.getRoleMemberCount(pendingRole).call();\n          console.log(a);\n          const pendingCount = parseInt(a);\n\n          a = await contract.methods.getRoleMemberCount(verifiedRole).call();\n          console.log(a);\n          const verifiedCount = parseInt(a);\n\n          console.log(pendingCount, verifiedCount);\n\n          let pending: PendingManufacturer[] = [];\n          for (let i = 0; i < pendingCount; i++) {\n            const address = await contract.methods\n              .getRoleMember(pendingRole, i)\n              .call();\n            const amount = await contract.methods\n              .requestedManufacturers(address)\n              .call();\n            pending.push({ address, amount });\n          }\n\n          let verified: string[] = [];\n          for (let i = 0; i < verifiedCount; i++) {\n            const address = await contract.methods\n              .getRoleMember(verifiedRole, i)\n              .call();\n            verified.push(address);\n          }\n\n          console.log(verified);\n          console.log(pending);\n\n          dispatch({ type: \"SET_MANUFACTURERS\", verified, pending });\n        } catch (error) {\n          console.log(error);\n        }\n      }\n      setLoading(false);\n    };\n\n    loadManufacturers();\n  }, [contract, verifiedManufacturers, pendingManufacturers, dispatch]);\n\n  const acceptManufacturer = async ({\n    address,\n    amount,\n  }: PendingManufacturer) => {\n    if (contract && from) {\n      try {\n        await contract.methods\n          .approveManufacturer(address, amount)\n          .send({ from, gas: 300000 });\n        dispatch({ type: \"ACCEPT_MANUFACTURER\", manufacturer: { address } });\n      } catch (error) {\n        setError(\n          \"Failed to accept manufacturer, make sure you have enought gas!\"\n        );\n        console.log(error);\n      }\n    }\n  };\n\n  const denyManufacturer = async ({ address, amount }: PendingManufacturer) => {\n    if (contract && from) {\n      try {\n        await contract.methods\n          .disapproveManufacturer(address)\n          .send({ from, gas: 300000 });\n        dispatch({ type: \"DENY_MANUFACTURER\", manufacturer: { address } });\n      } catch (error) {\n        setError(\n          \"Failed to deny manufacturer, make sure you have enought gas!\"\n        );\n        console.log(error);\n      }\n    }\n  };\n\n  if (loading || !pendingManufacturers || !verifiedManufacturers) {\n    return (\n      <div className={classes.loading}>\n        <CircularProgress size={100} />\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <PendingManufacturers\n        manufacturers={pendingManufacturers!!}\n        onDeny={(manufacturer: PendingManufacturer) => {\n          denyManufacturer(manufacturer);\n        }}\n        onAccept={(manufacturer: PendingManufacturer) => {\n          acceptManufacturer(manufacturer);\n        }}\n      />\n      <VerifiedManufacturers manufacturers={verifiedManufacturers!!} />\n    </>\n  );\n}\n","import {\n  Button,\n  CircularProgress,\n  Container,\n  FormLabel,\n  TextField,\n  Typography,\n  makeStyles,\n} from \"@material-ui/core\";\nimport { ReactElement, useEffect, useState } from \"react\";\nimport { loadCryptoSneakerContract, web3 } from \"../../Contract\";\n\nimport FadeIn from \"react-fade-in\";\nimport Typing from \"react-typing-animation\";\nimport { useAppContext } from \"../../contexts/appContext\";\nimport { useForm } from \"react-hook-form\";\nimport { useHistory } from \"react-router-dom\";\n\nconst useStyles = makeStyles({\n  center: {\n    position: \"absolute\",\n    left: \"50%\",\n    top: \"40%\",\n    transform: \"translate(-50%, -50%)\",\n  },\n  fadeIn: {\n    width: 500,\n    marginTop: 40,\n    position: \"absolute\",\n    left: \"50%\",\n    top: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n  },\n  header: {\n    display: \"inline-block\",\n    justifyContent: \"center\",\n    marginTop: 10,\n    fontSize: 30,\n  },\n});\n\nconst CONTRACT_ADDRESS = \"CONTRACT_ADDRESS\";\n\nexport function ContractInitialization(): ReactElement {\n  const [{}, dispatch] = useAppContext();\n  const [showTextField, setShowTextField] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const { register, errors, handleSubmit, setError } = useForm();\n  const classes = useStyles();\n  const history = useHistory();\n\n  const onSubmit = async ({\n    contractAddress,\n  }: {\n    contractAddress: string;\n  }): Promise<void> => {\n    setLoading(true);\n    try {\n      const code = await web3.eth.getCode(contractAddress);\n      if (code === \"0x\") {\n        setError(\"contractAddress\", { message: \"Contract has not been found\" });\n      } else {\n        const contract = loadCryptoSneakerContract(contractAddress);\n\n        dispatch({ type: \"SET_CONTRACT\", contract });\n        localStorage.setItem(CONTRACT_ADDRESS, contractAddress);\n        history.push(\"/home\");\n      }\n    } catch (e) {\n      console.log(e);\n      setError(\"contractAddress\", {\n        message: \"Unknown message, please try again later...\",\n      });\n    }\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    const contractAddress = localStorage.getItem(CONTRACT_ADDRESS);\n    if (contractAddress) {\n      const fetchContract = async () => {\n        try {\n          const code = await web3.eth.getCode(contractAddress);\n          if (code === \"0x\") {\n            localStorage.removeItem(CONTRACT_ADDRESS);\n          } else {\n            const contract = loadCryptoSneakerContract(contractAddress);\n\n            dispatch({ type: \"SET_CONTRACT\", contract });\n            history.push(\"/home\");\n          }\n        } catch (e) {\n          localStorage.removeItem(CONTRACT_ADDRESS);\n        }\n      };\n      fetchContract();\n    }\n  }, [dispatch]);\n\n  const errorMessage = (\n    error: { type: string; message: string } | null | undefined\n  ): string => {\n    if (!error) return \"\";\n\n    switch (error.type) {\n      case \"required\": {\n        return \"Contract address is required\";\n      }\n      case \"pattern\": {\n        return \"Invalid address pattern, make sure it has 40 characters and consists of lowercase letters and digits\";\n      }\n      default:\n        return error.message;\n    }\n  };\n\n  return (\n    <Container>\n      <Typing\n        className={classes.center}\n        onFinishedTyping={() => setShowTextField(true)}\n      >\n        <Typing.Speed ms={20} />\n        <Typography variant=\"h1\" className={classes.header}>\n          Welcome! Your data will be stolen!\n        </Typography>\n        <Typing.Delay ms={1000} />\n        <Typing.Backspace count={15} />\n        <Typography variant=\"h1\" className={classes.header}>\n          &nbsp;is secure!\n        </Typography>\n      </Typing>\n      {showTextField ? (\n        <FadeIn delay={500} className={classes.fadeIn}>\n          <form onSubmit={handleSubmit(onSubmit)}>\n            <TextField\n              label=\"Contract\"\n              error={errors?.contractAddress}\n              helperText={errorMessage(errors?.contractAddress)}\n              name=\"contractAddress\"\n              inputRef={register({\n                required: true,\n                pattern: /^[a-z0-9]{42}$/i,\n              })}\n              type=\"text\"\n              className=\"w-100\"\n            ></TextField>\n            <div className=\"text-center mt-4\">\n              {loading ? (\n                <CircularProgress />\n              ) : (\n                <Button type=\"submit\" color=\"primary\" variant=\"contained\">\n                  Load contract\n                </Button>\n              )}\n            </div>\n          </form>\n        </FadeIn>\n      ) : (\n        <></>\n      )}\n    </Container>\n  );\n}\n","import { Button, CardActions } from \"@material-ui/core\";\n\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles({\n  root: {\n    minWidth: 275,\n  },\n  bullet: {\n    display: \"inline-block\",\n    margin: \"0 2px\",\n    transform: \"scale(0.8)\",\n  },\n  title: {\n    fontSize: 14,\n  },\n  pos: {\n    marginBottom: 12,\n  },\n  actions: {\n    justifyContent: \"center\",\n  },\n});\n\ninterface FakeSneakerProps {\n  token: string;\n  onNext: () => void;\n}\n\nexport default function FakeSneaker({ token, onNext }: FakeSneakerProps) {\n  const classes = useStyles();\n\n  return (\n    <Card className={classes.root} variant=\"outlined\">\n      <CardContent>\n        <Typography variant=\"h5\" component=\"h2\">\n          Sneaker corresponding to '{token}' has not been found.\n        </Typography>\n        <Typography className={classes.pos} color=\"textSecondary\">\n          Be careful. You might have just misspelled sneaker token or someone\n          may want to take advantage of you. Don't get scammed. It gets really\n          expensive within this business...\n        </Typography>\n      </CardContent>\n      <CardActions className={classes.actions}>\n        <Button size=\"small\" onClick={onNext}>\n          Verify next sneaker\n        </Button>\n      </CardActions>\n    </Card>\n  );\n}\n","import Button from \"@material-ui/core/Button\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport React from \"react\";\nimport { Sneaker } from \"../../models/models\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles({\n  root: {\n    minWidth: 275,\n  },\n  bullet: {\n    display: \"inline-block\",\n    margin: \"0 2px\",\n    transform: \"scale(0.8)\",\n  },\n  title: {\n    fontSize: 14,\n  },\n  pos: {\n    marginBottom: 12,\n  },\n  actions: {\n    justifyContent: \"center\",\n  },\n});\n\ninterface OriginalSneakerProps {\n  sneaker: Sneaker & { owner: string };\n  onNext: () => void;\n}\n\nexport default function OriginalSneaker({\n  sneaker,\n  onNext,\n}: OriginalSneakerProps) {\n  const classes = useStyles();\n\n  return (\n    <Card className={classes.root} variant=\"outlined\">\n      <CardContent>\n        <Typography\n          className={classes.title}\n          color=\"textSecondary\"\n          gutterBottom\n        >\n          Token: {sneaker.token} is valid. Sneaker is original\n        </Typography>\n        <Typography variant=\"h5\" component=\"h2\">\n          {sneaker.name}\n        </Typography>\n        <Typography className={classes.pos} color=\"textSecondary\">\n          Manufacturer: <br /> {sneaker.manufacturer}\n        </Typography>\n        <Typography className={classes.pos} color=\"textSecondary\">\n          Owner: <br />\n          {sneaker.owner}\n        </Typography>\n        <Typography variant=\"body2\" component=\"p\">\n          Model Id: {sneaker.modelId}\n        </Typography>\n        <Typography variant=\"body2\" component=\"p\">\n          Size: {sneaker.size}\n        </Typography>\n      </CardContent>\n      <CardActions className={classes.actions}>\n        <Button size=\"small\" onClick={onNext}>\n          Verify next sneaker\n        </Button>\n      </CardActions>\n    </Card>\n  );\n}\n","import React, { ReactElement } from \"react\";\n\nimport CountUp from \"react-countup\";\nimport { Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles({\n  header: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    marginTop: 10,\n    fontSize: 30,\n  },\n  content: {\n    textAlign: \"center\",\n    display: \"block\",\n  },\n  piggy: {\n    width: 150,\n    height: 150,\n  },\n});\n\n// This component should be responsible for loading wallets from MetaMask\nexport function WalletBalancePig(props: { amount: number }): ReactElement {\n  const classes = useStyles();\n\n  return (\n    <>\n      <Typography variant=\"h1\" className={classes.header}>\n        Wallet Balance\n      </Typography>\n      <img alt=\"Piggy\" src=\"images/piggy.png\" className={classes.piggy} />\n      <br />\n      <CountUp\n        start={0}\n        decimals={8}\n        end={props.amount}\n        decimal=\".\"\n        duration={4}\n        prefix=\"ETH \"\n      />\n    </>\n  );\n}\n","import \"bootstrap-css-only/css/bootstrap.min.css\";\n\nimport {\n  Button,\n  Container,\n  Grid,\n  Snackbar,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport React, { ReactElement, useEffect, useState } from \"react\";\n\nimport { Alert } from \"@material-ui/lab\";\nimport FakeSneaker from \"./FakeSneaker\";\nimport OriginalSneaker from \"./OriginalSneaker\";\nimport { Sneaker } from \"../../models/models\";\nimport { WalletBalancePig } from \"./WalletBalancePig\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { useAppContext } from \"../../contexts/appContext\";\nimport { useForm } from \"react-hook-form\";\nimport { web3 } from \"../../Contract\";\n\nconst useStyles = makeStyles({\n  header: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    marginTop: 10,\n    fontSize: 30,\n  },\n  content: {\n    textAlign: \"center\",\n    display: \"block\",\n  },\n  piggy: {\n    width: 150,\n    height: 150,\n  },\n  button: {\n    marginTop: 20,\n  },\n  textField: {\n    width: \"100%\",\n  },\n});\n\ninterface SneakerCheckResult {\n  valid: boolean;\n  sneaker?: Sneaker & { owner: string };\n}\n\n// This component should be responsible for loading wallets from MetaMask\nexport function Home(): ReactElement {\n  const [{ contract, from }, dispatch] = useAppContext();\n  const [error, setError] = useState<string | null>(null);\n  const [balance, setBalance] = useState<number | null>(null);\n  const { register, errors, handleSubmit } = useForm();\n\n  const [sneakerCheck, setSneakerCheck] = useState<SneakerCheckResult | null>(\n    null\n  );\n  const [token, setToken] = useState(\"\");\n\n  useEffect(() => {\n    const fetchWallet = async () => {\n      try {\n        await window.ethereum.send(\"eth_requestAccounts\");\n        const account: string = window.ethereum.selectedAddress;\n\n        dispatch({ type: \"SET_FROM\", from: account });\n      } catch (error) {\n        console.log(error);\n        setError(\n          \"Error happened while fetching wallet! Make sure you have enabled MetaMask!\"\n        );\n      }\n    };\n    fetchWallet();\n  }, [dispatch, from]);\n\n  useEffect(() => {\n    const fetchBalance = async () => {\n      if (from) {\n        const balance = parseFloat(\n          web3.utils.fromWei(await web3.eth.getBalance(from), \"ether\")\n        );\n        setBalance(balance);\n      }\n    };\n    fetchBalance();\n  }, [from, setBalance]);\n\n  const onSubmit = ({ token }: { token: string }) => {\n    checkToken(token);\n  };\n\n  const checkToken = async (token: string) => {\n    if (contract) {\n      try {\n        const {\n          name,\n          size,\n          manufacturer,\n          modelId,\n        } = await contract.methods.sneakers(token).call();\n        // if sneaker does not exist it default to zero in all fields\n        if (manufacturer === \"0x0000000000000000000000000000000000000000\") {\n          setSneakerCheck({ valid: false });\n        } else {\n          const owner = await contract.methods.ownerOf(token).call();\n          setSneakerCheck({\n            valid: true,\n            sneaker: { token, name, size, manufacturer, modelId, owner },\n          });\n        }\n      } catch (error) {\n        // TODO: it might come from other error than invalid token format\n        setSneakerCheck({ valid: false });\n        console.log(error);\n      }\n    }\n  };\n\n  const classes = useStyles();\n\n  return (\n    <>\n      <Container>\n        <Grid container spacing={2}>\n          <Grid item md={6} className={classes.content}>\n            {from && balance !== null ? (\n              <WalletBalancePig amount={balance} />\n            ) : (\n              <></>\n            )}\n          </Grid>\n          <Grid item md={6}>\n            {sneakerCheck ? (\n              sneakerCheck.valid ? (\n                <OriginalSneaker\n                  sneaker={sneakerCheck.sneaker!!}\n                  onNext={() => setSneakerCheck(null)}\n                />\n              ) : (\n                <FakeSneaker\n                  token={token}\n                  onNext={() => setSneakerCheck(null)}\n                />\n              )\n            ) : (\n              <form onSubmit={handleSubmit(onSubmit)}>\n                <div>\n                  <Typography variant=\"h1\" className={classes.header}>\n                    Check sneaker\n                  </Typography>\n                  <TextField\n                    label=\"Token\"\n                    helperText={(errors?.token && \"Token is required\") || \"\"}\n                    type=\"text\"\n                    name=\"token\"\n                    className={classes.textField}\n                    onChange={(e) => setToken(e.target.value)}\n                    error={errors.token}\n                    inputRef={register({ required: true })}\n                  />\n                  <div className={classes.content}>\n                    <Button\n                      className={classes.button}\n                      type=\"submit\"\n                      color=\"primary\"\n                      variant=\"outlined\"\n                    >\n                      Check\n                    </Button>\n                  </div>\n                </div>\n              </form>\n            )}\n          </Grid>\n        </Grid>\n      </Container>\n      <Snackbar open={error !== null} autoHideDuration={5000}>\n        <Alert severity=\"error\">{error || \"\"}</Alert>\n      </Snackbar>\n    </>\n  );\n}\n","import { Sneaker } from \"../models/models\";\nimport { useAppContext } from \"../contexts/appContext\";\nimport { useEffect } from \"react\";\nimport { web3 } from \"../Contract\";\n\nexport const useAccount = () => {\n  const [{ account, contract, from }, dispatch] = useAppContext();\n\n  useEffect(() => {\n    if (!account && contract && from) {\n      const fetchAccountInfo = async () => {\n        try {\n          const account = await window.ethereum.enable();\n          const isAdmin = await contract.methods\n            .hasRole(web3.utils.keccak256(\"ADMIN_ROLE\"), from)\n            .call();\n          const isManufacturer = await contract.methods\n            .hasRole(web3.utils.keccak256(\"MANUFACTURER_ROLE\"), from)\n            .call();\n\n          const sneakerTokens = await contract.methods\n            .getSneakersByOwner(from)\n            .call();\n\n          let sneakers: Sneaker[] = [];\n\n          for (const token of sneakerTokens) {\n            const {\n              manufacturer,\n              modelId,\n              size,\n              name,\n            } = await contract.methods.sneakers(token).call();\n\n            sneakers.push({ token, manufacturer, modelId, size, name });\n          }\n\n          dispatch({\n            type: \"SET_ACCOUNT\",\n            account: {\n              isAdmin,\n              isManufacturer,\n              sneakers,\n            },\n          });\n        } catch (error) {\n          console.log(\"Error while fetching account information\", error);\n        }\n      };\n      fetchAccountInfo();\n    }\n  }, [account, contract, from, dispatch]);\n  return account;\n};\n","import {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  Paper,\n  Snackbar,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TextField,\n  makeStyles,\n} from \"@material-ui/core\";\nimport React, { ReactElement, useState } from \"react\";\n\nimport { Alert } from \"@material-ui/lab\";\nimport { Sneaker } from \"../../models/models\";\nimport { useAccount } from \"../../hooks/useAccount\";\nimport { useAppContext } from \"../../contexts/appContext\";\nimport { useForm } from \"react-hook-form\";\nimport { web3 } from \"../../Contract\";\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 400,\n  },\n});\n\nexport function Inventory(): ReactElement {\n  const [{ contract, from }, dispatch] = useAppContext();\n  const classes = useStyles();\n  const [activeSneaker, setActiveSneaker] = useState<Sneaker | null>(null);\n\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState(false);\n\n  const { register, errors, handleSubmit } = useForm();\n\n  const onCancel = () => setActiveSneaker(null);\n  const onTransfer = ({ address }: { address: string }) => {\n    if (activeSneaker) {\n      transferToken(activeSneaker, address);\n    }\n    setActiveSneaker(null);\n  };\n\n  const transferToken = async (sneaker: Sneaker, to: string) => {\n    if (contract && from) {\n      try {\n        await contract.methods\n          .transferFrom(from, to, sneaker.token)\n          .send({ from, gas: 200000 });\n        dispatch({ type: \"REMOVE_SNEAKER\", sneaker: sneaker });\n        setSuccess(true);\n      } catch (error) {\n        setError(\n          \"Failed to transfer token ownership, make sure you have enough ether!\"\n        );\n        console.log(error);\n      }\n    }\n  };\n\n  const account = useAccount();\n\n  return (\n    <>\n      <TableContainer component={Paper}>\n        <Table className={classes.table} aria-label=\"simple table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Token</TableCell>\n              <TableCell>Name</TableCell>\n              <TableCell align=\"center\">Model Identifier</TableCell>\n              <TableCell align=\"center\">Manufacture address</TableCell>\n              <TableCell align=\"center\">Size</TableCell>\n              <TableCell align=\"center\"></TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {(account?.sneakers || []).map((row) => (\n              <TableRow key={row.token}>\n                <TableCell align=\"center\">{row.token}</TableCell>\n                <TableCell component=\"th\" scope=\"row\">\n                  {row.name}\n                </TableCell>\n                <TableCell align=\"center\">{row.modelId}</TableCell>\n                <TableCell align=\"center\">{row.manufacturer}</TableCell>\n                <TableCell align=\"center\">{row.size}</TableCell>\n                <TableCell align=\"center\">\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={() => {\n                      setActiveSneaker(row);\n                    }}\n                  >\n                    Transfer ownership\n                  </Button>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n      <Dialog\n        open={activeSneaker !== null}\n        onClose={onCancel}\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          Transfer token: <b>{activeSneaker?.token}</b>\n        </DialogTitle>\n\n        <DialogContent>\n          <DialogContentText>\n            Please specify destination address to which you are willing to\n            transfer selected sneaker. Remember that once sent you can't get\n            your sneaker back unless the new owner sends it back. Make sure that\n            you use correct address or you will lose your token forever!\n            <br />\n            Name: {activeSneaker?.name} - Model ID: {activeSneaker?.modelId}\n          </DialogContentText>\n          <form>\n            <TextField\n              autoFocus\n              margin=\"dense\"\n              id=\"address\"\n              required\n              label=\"Destination address\"\n              name=\"address\"\n              helperText={\n                errors.address &&\n                (errors.address.type === \"pattern\"\n                  ? \"Invalid address format\"\n                  : \"Address is required\")\n              }\n              error={errors.address}\n              inputRef={register({\n                required: true,\n                pattern: /^[a-z0-9]{42}$/i,\n              })}\n              type=\"text\"\n              fullWidth\n            />\n          </form>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={onCancel} color=\"default\">\n            Cancel\n          </Button>\n          <Button onClick={handleSubmit(onTransfer)} color=\"secondary\">\n            Transfer\n          </Button>\n        </DialogActions>\n      </Dialog>\n      <Snackbar\n        open={error !== null}\n        onClose={() => setError(null)}\n        autoHideDuration={5000}\n      >\n        <Alert severity=\"error\">{error}</Alert>\n      </Snackbar>\n      <Snackbar\n        open={success}\n        onClose={() => setSuccess(false)}\n        autoHideDuration={5000}\n      >\n        <Alert severity=\"success\">\n          Token's ownership has been transfered to given address!\n        </Alert>\n      </Snackbar>\n    </>\n  );\n}\n","import {\n  Button,\n  CircularProgress,\n  Container,\n  Grid,\n  Snackbar,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport { ReactElement, useState } from \"react\";\n\nimport { Alert } from \"@material-ui/lab\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { useAppContext } from \"../../contexts/appContext\";\nimport { useForm } from \"react-hook-form\";\n\nconst useStyles = makeStyles({\n  header: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    marginTop: 10,\n    marginBottom: 20,\n    fontSize: 25,\n  },\n\n  formControl: {\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginTop: 10,\n  },\n  field: {\n    marginBottom: 10,\n    MuiInput: {\n      root: {\n        width: \"100%\",\n        position: \"relative\",\n      },\n    },\n  },\n});\n\ninterface MintTokenInformation {\n  modelId: string;\n  name: string;\n  size: number;\n}\n\nexport function MintToken(): ReactElement {\n  const [{ contract, from }, dispatch] = useAppContext();\n  const { register, errors, reset, handleSubmit } = useForm();\n\n  const [error, setError] = useState<string | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [success, setSuccess] = useState(false);\n\n  const onSubmit = (data: MintTokenInformation) => {\n    mintToken(data);\n  };\n  const classes = useStyles();\n\n  const mintToken = async ({ modelId, name, size }: MintTokenInformation) => {\n    if (contract && from) {\n      try {\n        setLoading(true);\n        const result = await contract.methods\n          .mint(modelId, name, size.toString())\n          .send({ from, gas: 1000000 });\n        setLoading(false);\n        // const result = await contract.methods.mint(modelId, name, size.toString()).send({from, gas: 10});\n        const { tokenId } = result?.events?.Transfer.returnValues || {\n          tokenId: \"\",\n        };\n\n        const sneaker = await contract.methods.sneakers(tokenId).call();\n\n        dispatch({\n          type: \"ADD_SNEAKER\",\n          sneaker: { ...sneaker, token: tokenId },\n        });\n        reset();\n        setSuccess(true);\n      } catch (error) {\n        setError(\"Failed to mint new sneaker. Check if you have enough gas!\");\n        console.log(error);\n      }\n    }\n  };\n\n  return (\n    <div>\n      <Container>\n        <Grid>\n          <Typography variant=\"h1\" className={classes.header}>\n            Mint new Sneaker Token\n          </Typography>\n          <form\n            className={classes.formControl}\n            onSubmit={handleSubmit(onSubmit)}\n          >\n            <TextField\n              label=\"Model Identifier\"\n              error={errors.modelId}\n              helperText={\n                (errors.modelId &&\n                  (errors.modelId.type === \"required\"\n                    ? \"Model Id is required\"\n                    : \"Model Id has to have between 5 and 15 characters\")) ||\n                \"\"\n              }\n              name=\"modelId\"\n              inputRef={register({\n                required: true,\n                maxLength: 15,\n                minLength: 5,\n              })}\n              type=\"text\"\n              className={classes.field}\n            />\n            <TextField\n              label=\"Model name\"\n              error={errors.name}\n              helperText={\n                (errors.name &&\n                  (errors.name.type === \"required\"\n                    ? \"Name is required\"\n                    : \"Name can have only up to 50 characters\")) ||\n                \"\"\n              }\n              name=\"name\"\n              inputRef={register({\n                required: true,\n                minLength: 5,\n                maxLength: 50,\n              })}\n              type=\"text\"\n              className={classes.field}\n            />\n            <TextField\n              label=\"Size\"\n              error={errors.size}\n              helperText={errors.size && \"Size have to be in range (1, 60)\"}\n              name=\"size\"\n              inputRef={register({ required: true, min: 1, max: 60 })}\n              type=\"number\"\n              className={classes.field}\n            />\n            <div className=\"text-center mt-4\">\n              {loading ? <CircularProgress size={40} /> : \n              <Button type=\"submit\" variant=\"contained\" color=\"primary\">\n                Submit\n              </Button>\n              }\n            </div>\n          </form>\n        </Grid>\n      </Container>\n      <Snackbar\n        open={error !== null}\n        onClose={() => setError(null)}\n        autoHideDuration={5000}\n      >\n        <Alert severity=\"error\">{error || \"\"}</Alert>\n      </Snackbar>\n      <Snackbar\n        open={loading}\n      >\n        <Alert severity=\"info\">Waiting for a token to be mined by the network!</Alert>\n      </Snackbar>\n      <Snackbar\n        open={success}\n        onClose={() => setSuccess(false)}\n        autoHideDuration={5000}\n      >\n        <Alert severity=\"success\">\n          New token has been minted. Check your inventory!\n        </Alert>\n      </Snackbar>\n    </div>\n  );\n}\n","import { Paper, Typography } from \"@material-ui/core\";\n\nimport { ReactElement } from \"react\";\n\nexport function PendingRequest(): ReactElement {\n  return (\n    <Typography variant=\"h3\" align=\"center\">\n      You are awaiting to be accepted as a manufacturer!\n    </Typography>\n  );\n}\n","import {\n  Button,\n  Container,\n  Grid,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport { FieldError, useForm } from \"react-hook-form\";\n\nimport { Manufacturer } from \"../../models/models\";\nimport { ReactElement } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { useAppContext } from \"../../contexts/appContext\";\nimport { web3 } from \"../../Contract\";\n\nconst useStyles = makeStyles({\n  header: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    marginTop: 10,\n    marginBottom: 20,\n    fontSize: 25,\n  },\n\n  formControl: {\n    width: \"100%\",\n    marginTop: 10,\n  },\n});\n\nconst checkPostalCodeFormat = (error: FieldError): string => {\n  if (!error) return \"\";\n  if (error.type === \"pattern\") return \"Invalid postal code format\";\n  return \"Postal Code is required\";\n};\n\ninterface RequestManufacturerRoleProps {\n  onSuccess: () => void;\n}\n\nexport function RequestManufacturerRole({\n  onSuccess,\n}: RequestManufacturerRoleProps): ReactElement {\n  const [{ contract, from }] = useAppContext();\n  const { register, errors, handleSubmit } = useForm();\n\n  const onSubmit = ({ amount }: { amount: number }) => {\n    requestManufacturerRole(amount);\n  };\n  const classes = useStyles();\n\n  const requestManufacturerRole = async (amount: number) => {\n    if (!contract || !from) return;\n    try {\n      await contract.methods\n        .requestManufacturerRole()\n        .send({ from, value: amount, gas: 200000 });\n      onSuccess();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <div>\n      <Container>\n        <Grid>\n          <Typography variant=\"h1\" align=\"center\" className={classes.header}>\n            Would you like to be one of our Manufactures? Then complete the form\n            below with a fee amount and proceed. Amount is given in WEI unit.\n          </Typography>\n          <form onSubmit={handleSubmit(onSubmit)}>\n            <TextField\n              label=\"Amount\"\n              helperText={errors.amount && \"Amount is required\"}\n              error={errors.amount}\n              type=\"number\"\n              name=\"amount\"\n              inputRef={register({ required: true })}\n              className={classes.formControl}\n            />\n\n            <div className=\"text-center mt-4\">\n              <Button type=\"submit\" color=\"primary\" variant=\"contained\">\n                Apply for manufacturer\n              </Button>\n            </div>\n          </form>\n        </Grid>\n      </Container>\n    </div>\n  );\n}\n","import { CircularProgress, makeStyles } from \"@material-ui/core\";\nimport { ReactElement, useEffect, useState } from \"react\";\n\nimport { MintToken } from \"./MintToken\";\nimport { PendingRequest } from \"./PendingRequest\";\nimport { RequestManufacturerRole } from \"./RequestManufacturerRole\";\nimport { useAccount } from \"../../hooks/useAccount\";\nimport { useAppContext } from \"../../contexts/appContext\";\n\nconst useStyles = makeStyles({\n  loading: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginTop: 200,\n  },\n});\n\n// based on if current user is a manufacturer or not MintToken or RequestManufacturerRole should be displayed\nexport function Manufacturer(): ReactElement {\n  const [{ contract, from }] = useAppContext();\n  const [isPending, setIsPending] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const account = useAccount();\n\n  const classes = useStyles();\n\n  useEffect(() => {\n    const checkIfPending = async () => {\n      if (contract && from && account && !account.isManufacturer) {\n        try {\n          const result = await contract.methods\n            .requestedManufacturers(from)\n            .call();\n          if (result !== \"0\") {\n            setIsPending(true);\n          }\n        } catch (error) {\n          console.log(error);\n        }\n      }\n      setIsLoading(false);\n    };\n    checkIfPending();\n  }, [contract, from, account, setIsPending, setIsLoading]);\n\n  if (isLoading || !account) {\n    return (\n      <div className={classes.loading}>\n        <CircularProgress size={100} />\n      </div>\n    );\n  }\n\n  if (isPending) {\n    return <PendingRequest />;\n  }\n\n  if (!account?.isManufacturer) {\n    return <RequestManufacturerRole onSuccess={() => setIsPending(true)} />;\n  }\n\n  return <MintToken />;\n}\n","import CreateIcon from \"@material-ui/icons/Create\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport { Link } from \"react-router-dom\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport { ListItemIcon } from \"@material-ui/core\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport React from \"react\";\nimport WidgetsIcon from \"@material-ui/icons/Widgets\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useAccount } from \"../../hooks/useAccount\";\n\nconst useStyles = makeStyles({\n  list: {\n    width: 250,\n  },\n});\n\ninterface SideDrawerProps {\n  open: boolean;\n  toggleOpen: () => void;\n}\nexport default function SideDrawer({ open, toggleOpen }: SideDrawerProps) {\n  const classes = useStyles();\n  const account = useAccount();\n\n  const toggleDrawer = (event: React.KeyboardEvent | React.MouseEvent) => {\n    if (\n      event.type === \"keydown\" &&\n      ((event as React.KeyboardEvent).key === \"Tab\" ||\n        (event as React.KeyboardEvent).key === \"Shift\")\n    ) {\n      return;\n    }\n\n    toggleOpen();\n  };\n\n  let list = [\n    { text: \"Home\", iconName: HomeIcon },\n    { text: \"Inventory\", iconName: WidgetsIcon },\n    { text: \"Manufacturer\", iconName: CreateIcon },\n  ];\n\n  if (account?.isAdmin) {\n    list.push({ text: \"Admin\", iconName: PersonIcon });\n  }\n\n  const drawerContent = () => (\n    <div\n      className={classes[\"list\"]}\n      role=\"presentation\"\n      onClick={toggleDrawer}\n      onKeyDown={toggleDrawer}\n    >\n      <List>\n        {list.map((item, index) => (\n          <ListItem\n            button\n            key={item.text}\n            component={Link}\n            to={`/${item.text.toLowerCase()}`}\n          >\n            <ListItemIcon>\n              <item.iconName />\n            </ListItemIcon>\n            <ListItemText\n              primary={item.text}\n              style={{ textDecoration: \"none\" }}\n            />\n          </ListItem>\n        ))}\n      </List>\n    </div>\n  );\n\n  return (\n    <div>\n      <Drawer anchor={\"left\"} open={open} onClose={toggleDrawer}>\n        {drawerContent()}\n      </Drawer>\n    </div>\n  );\n}\n","import React, { ReactElement, useState } from \"react\";\nimport {\n  Theme,\n  createStyles,\n  makeStyles,\n  useTheme,\n} from \"@material-ui/core/styles\";\n\nimport AppBar from \"@material-ui/core/AppBar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport clsx from \"clsx\";\nimport { useLocation } from \"react-router-dom\";\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: \"flex\",\n    },\n    appBar: {\n      transition: theme.transitions.create([\"margin\", \"width\"], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen,\n      }),\n    },\n    appBarShift: {\n      width: `calc(100% - ${drawerWidth}px)`,\n      marginLeft: drawerWidth,\n      transition: theme.transitions.create([\"margin\", \"width\"], {\n        easing: theme.transitions.easing.easeOut,\n        duration: theme.transitions.duration.enteringScreen,\n      }),\n    },\n    menuButton: {\n      marginRight: theme.spacing(2),\n    },\n    hide: {\n      display: \"none\",\n    },\n  })\n);\n\ninterface SneakerAppBarProps {\n  toggleDrawer: () => void;\n  title: string;\n}\n\nfunction capitalize(name: string): string {\n  return name.charAt(0).toUpperCase() + name.slice(1);\n}\n\nexport default function SneakerAppBar({\n  toggleDrawer,\n  title,\n}: SneakerAppBarProps): ReactElement {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n\n  const location = useLocation();\n\n  return (\n    <AppBar\n      position=\"fixed\"\n      className={clsx(classes.appBar, {\n        [classes.appBarShift]: open,\n      })}\n    >\n      <Toolbar variant=\"dense\">\n        <IconButton\n          color=\"inherit\"\n          aria-label=\"open drawer\"\n          onClick={toggleDrawer}\n          edge=\"start\"\n          className={clsx(classes.menuButton, open && classes.hide)}\n        >\n          <MenuIcon />\n        </IconButton>\n        <Typography variant=\"h6\" noWrap>\n          {`${title} - ${capitalize(location.pathname.substr(1))}`}\n        </Typography>\n      </Toolbar>\n    </AppBar>\n  );\n}\n","import \"./App.css\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { Redirect, Route, Switch, useHistory } from \"react-router-dom\";\nimport { Theme, createStyles, makeStyles, useTheme } from \"@material-ui/core\";\n\nimport { Admin } from \"./components/Admin/Admin\";\nimport { ContractInitialization } from \"./components/ContractInitialization/ContractInitialization\";\nimport { Home } from \"./components/Home/Home\";\nimport { Inventory } from \"./components/Inventory/Inventory\";\nimport { Manufacturer } from \"./components/Manufacturer/Manufacturer\";\nimport SideDrawer from \"./components/Navigation/SideDrawer\";\nimport SneakerAppBar from \"./components/AppBar/SneakerAppBar\";\nimport { useAccount } from \"./hooks/useAccount\";\nimport { useAppContext } from \"./contexts/appContext\";\n\nconst TITLE = \"Sneaker Chain\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    content: {\n      flexGrow: 1,\n      padding: theme.spacing(3),\n      marginTop: theme.spacing(6),\n      transition: theme.transitions.create(\"margin\", {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen,\n      }),\n    },\n  })\n);\n\nfunction App() {\n  const [{ contract }] = useAppContext();\n  const [openDrawer, setOpenDrawer] = useState(false);\n  const theme = useTheme();\n  const classes = useStyles(theme);\n  const history = useHistory();\n  const account = useAccount();\n\n  useEffect(() => {\n    if (!contract && history) {\n      history.push(\"/initialization\");\n    }\n  }, [history, contract]);\n\n  return (\n    <>\n      {contract && (\n        <SneakerAppBar\n          title={TITLE}\n          toggleDrawer={() => setOpenDrawer(!openDrawer)}\n        />\n      )}\n      <SideDrawer\n        open={openDrawer}\n        toggleOpen={() => setOpenDrawer(!openDrawer)}\n      />\n\n      <main className={classes.content}>\n        <Switch>\n          <Route path=\"/inventory\">\n            <Inventory />\n          </Route>\n          <Route path=\"/manufacturer\">\n            <Manufacturer />\n          </Route>\n          {account && account.isAdmin && (\n            <Route path=\"/admin\">\n              <Admin />\n            </Route>\n          )}\n          <Route path=\"/home\">\n            <Home />\n          </Route>\n          <Route path=\"/initialization\">\n            <ContractInitialization />\n          </Route>\n          <Route exact path=\"/\">\n            <Redirect to=\"/initialization\" />\n          </Route>\n        </Switch>\n      </main>\n    </>\n  );\n}\n\nexport default App;\n","import App from \"./App\";\nimport { AppContextProvider } from \"./contexts/appContext\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { ReactElement } from \"react\";\n\nexport function AppWrapper(): ReactElement {\n  return (\n    <AppContextProvider>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </AppContextProvider>\n  );\n}\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import \"./index.css\";\n\nimport { AppWrapper } from \"./AppWrapper\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppWrapper />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}